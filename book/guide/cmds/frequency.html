<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>frequency - pica-rs</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../custom.css">

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../../index.html">Einführung</a></li><li class="chapter-item expanded affix "><li class="part-title">Benutzerhandbuch</li><li class="chapter-item expanded "><a href="../../guide/installation.html"><strong aria-hidden="true">1.</strong> Installation</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> Kommandos</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../guide/cmds/cat.html"><strong aria-hidden="true">2.1.</strong> cat</a></li><li class="chapter-item expanded "><a href="../../guide/cmds/completions.html"><strong aria-hidden="true">2.2.</strong> completions</a></li><li class="chapter-item expanded "><a href="../../guide/cmds/count.html"><strong aria-hidden="true">2.3.</strong> count</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.4.</strong> filter</div></li><li class="chapter-item expanded "><a href="../../guide/cmds/frequency.html" class="active"><strong aria-hidden="true">2.5.</strong> frequency</a></li><li class="chapter-item expanded "><a href="../../guide/cmds/invalid.html"><strong aria-hidden="true">2.6.</strong> invalid</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.7.</strong> partition</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.8.</strong> print</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.9.</strong> sample</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.10.</strong> select</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.11.</strong> slice</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.12.</strong> split</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.13.</strong> json</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.14.</strong> xml</div></li></ol></li><li class="chapter-item expanded "><li class="part-title">Tutorials</li><li class="chapter-item expanded "><a href="../../tutorials/beginner-tutorial.html"><strong aria-hidden="true">3.</strong> Beginner Tutorial</a></li><li class="chapter-item expanded "><a href="../../tutorials/rmarkdown/rmarkdown.html"><strong aria-hidden="true">4.</strong> Verwendung in RMarkdown</a></li><li class="chapter-item expanded affix "><li class="part-title">Entwicklerdokumentation</li><li class="chapter-item expanded "><a href="../../referenz/index.html"><strong aria-hidden="true">5.</strong> Referenz</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../referenz/matcher.html"><strong aria-hidden="true">5.1.</strong> Matcher</a></li><li class="chapter-item expanded "><a href="../../referenz/occurrence.html"><strong aria-hidden="true">5.2.</strong> Occurrence</a></li><li class="chapter-item expanded "><a href="../../referenz/subfield.html"><strong aria-hidden="true">5.3.</strong> Subfield</a></li><li class="chapter-item expanded "><a href="../../referenz/tag.html"><strong aria-hidden="true">5.4.</strong> Tag</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">pica-rs</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="frequency"><a class="header" href="#frequency">frequency</a></h1>
<p>Mithilfe des Kommandos <code>frequency</code> lässt sich die Häufigkeitsverteilung
aller Wertausprägungen eines Unterfelds bestimmen.</p>
<h2 id="beschreibung"><a class="header" href="#beschreibung">Beschreibung</a></h2>
<p>Das Kommando <code>frequency</code> wird dazu genutzt, um die Häufigkeiten der
Wertausprägungen eines Unterfelds zu bestimmen. Ist das zu untersuchende
Feld bzw. Unterfeld wiederholbar, dann gehen alle Wertausprägungen eines
Datensatzes in die Häufigkeitsverteilung ein. Aus der Ergebnisdatei lässt
sich dann durch geeignete Tools eine grafische Darstellung (Histogramm)
oder die relative Häufigkeitsverteilung berechnen. Die Ausgabe erfolgt
standardmäßig im CSV-Format.</p>
<p>Im folgenden Beispiel wird die Häufigkeitsverteilung des Unterfelds
<code>010@.a</code> (Sprache des Textes) ermittelt. Sowohl das Feld <code>010@</code> als auch
das Unterfeld <code>a</code> sind wiederholbar und somit werden Datensätze, die sowohl
einen Sprachencode <code>ger</code> als auch <code>eng</code> erhalten haben, für jeden Wert
gezählt.</p>
<pre><code class="language-bash">$ pica frequency &quot;010@.a&quot; FILE.dat
ger,2888445
eng,347171
...
</code></pre>
<h3 id="hinzufügen-einer-kopfzeile"><a class="header" href="#hinzufügen-einer-kopfzeile">Hinzufügen einer Kopfzeile</a></h3>
<p>Für die Dokumentation sowie die Verwendung in anderen Programmiersprachen
ist es häufig sinnvoll eine Kopfzeile hinzuzufügen. Dies erfolgt mit der
Option <code>--header</code> bzw. <code>-H</code>. Die Namen der Spalten werden komma-separiert
angegeben. Die Angabe von mehr als zwei Spalten ist nicht erlaubt.</p>
<pre><code class="language-bash">$ pica frequency --header &quot;sprache,anzahl&quot; &quot;010@.a&quot; A.dat
sprache,anzahl
ger,2888445
eng,347171
...
</code></pre>
<h3 id="eingrenzung-auf-bestimmte-felder"><a class="header" href="#eingrenzung-auf-bestimmte-felder">Eingrenzung auf bestimmte Felder</a></h3>
<p>Oftmals sollen nicht alle Felder in die Berechnung der Häufigkeiten mit
einbezogen werden. Dies ist bspw. dann der Fall, wenn sich Felder anhand
eines Unterfelds unterschieden lassen, wie etwa durch die Angabe der 
Metadatenherkunft. Durch Verwenden eines Pfad-Ausdrucks in {}-Notation,
können nur die Felder ausgewählt werden, die einem bestimmten Kriterium
entsprechen.</p>
<p>Im folgenden Beispiel werden von einem Datensatz nur die <code>044H</code> Felder in
die Ergenisbereichnung mit einbezogen, die ein Unterfeld <code>b</code> besitzen, das
gleich <code>'GND'</code> ist, sowie ein Unterfeld <code>H</code>, das mit der Zeichenkette 
<code>'ema'</code> beginnt. Felder, die nicht dem Filter entsprechen werden ignoriert.</p>
<pre><code class="language-bash">$ pica frequency &quot;044H{b == 'GND' &amp;&amp; H =^ 'ema', 9}&quot; DUMP.dat
gnd_id,count
040118827,29359
040305503,4118
041132920,2861
04061963X,2420
040288595,1964
...
</code></pre>
<p>Mit der Option <code>--ignore-case</code> (bzw. <code>-i</code>) wird bei Vergleichen von Werten
die Groß-/Klein-Schreibung ignoriert. Die Option <code>--strsim-threshold</code> legt
den Schwellenwert des <code>=*</code>-Operators fest, mit dem auf die Ähnlichkeit von
Zeichenketten geprüft werden kann.</p>
<h3 id="eingrenzen-der-treffermenge-limit"><a class="header" href="#eingrenzen-der-treffermenge-limit">Eingrenzen der Treffermenge (Limit)</a></h3>
<p>Soll die Treffermenge auf die <em>n</em>-häufigsten Werte eingeschränkt werden,
wird dies mit der Option <code>--limit</code> bzw. <code>-l</code> erreicht. Das folgende
Beispiel sucht nach den fünf häufigsten Sprachencodes:</p>
<pre><code class="language-bash">$ pica frequency --limit 5 --header &quot;sprache,anzahl&quot; &quot;010@.a&quot; A.dat
sprache,anzahl
ger,4944293
eng,829241
fre,140055
spa,61131
ita,60113
</code></pre>
<h3 id="eingrenzen-der-treffermenge-schwellenwert"><a class="header" href="#eingrenzen-der-treffermenge-schwellenwert">Eingrenzen der Treffermenge (Schwellenwert)</a></h3>
<p>Die Treffermenge kann auch mittels der Angabe eines Schwellenwerts
eingeschänkt werden. Sollen nur die Werte angezeigt werden, die häufiger
als ein Schwellenwert <em>n</em> vorkommen, dann kann dies mit der Option
<code>--threshold</code> bzw. <code>-t</code> erzielt werden:</p>
<pre><code class="language-bash">$ pica frequency --theshold 100000 -H &quot;sprache,anzahl&quot; &quot;010@.a&quot; A.dat
sprache,anzahl
ger,4944293
eng,829241
fre,140055
</code></pre>
<h3 id="Änderung-der-sortierreihenfolge"><a class="header" href="#Änderung-der-sortierreihenfolge">Änderung der Sortierreihenfolge</a></h3>
<p>Standardmäßig wird die Häufigkeitsverteilung absteigend ausgegeben,
d.h. der häufigste Wert steht in der Ausgabe oben<sup class="footnote-reference"><a href="#fn1">1</a></sup>. Soll das
Verhalten so geändert werden, dass die Ausgabe aufsteigend sortiert wird,
kann dies mit der Option <code>--reverse</code> bzw. <code>-r</code> erfolgen. Das folgende
Kommando sucht nach den drei Satzarten, die am wenigsten vorkommen:</p>
<pre><code class="language-bash">$ pica frequency -s --limit 2 --reverse tests/data/dump.dat.gz
Ts1,1
Tp1,2
</code></pre>
<h3 id="ausgabe-im-tsv-format"><a class="header" href="#ausgabe-im-tsv-format">Ausgabe im TSV-Format</a></h3>
<p>Die Ausgabe lässt sich mittels der Option <code>--tsv</code> (bzw. <code>-t</code>) in das TSV-
Format ändern.</p>
<pre><code class="language-bash">$ pica frequency -s --tsv --reverse tests/data/dump.dat.gz
Tp1    2
Ts1    1
...
</code></pre>
<h3 id="Änderung-der-unicode-normalform"><a class="header" href="#Änderung-der-unicode-normalform">Änderung der Unicode-Normalform</a></h3>
<p>Die Unicode-Normalform in der Ausgabe lässt sich durch die Option
<code>--translit</code> ändern. Liegen die Daten in NFD-Normalform vor und sollen in
die NFC-Normalform transliteriert werden, kann dies mit dem folgenden
Kommando erfolgen:</p>
<pre><code class="language-bash">$ pica frequency --translit nfc &quot;002@.0&quot; dump.dat.gz
Ts1,1
Tp1,2
</code></pre>
<p>Es werden die Normalformen NFC (<code>nfc</code>), NFD (<code>nfd</code>), NFKC (<code>nfkc</code>) und
NFKD (<code>nfkd</code>) unterstützt. Wird die Option nicht verwendet, werden die
Wertausprägungen in die Kodierung und Normalform ausgegeben, wie sie in
der Eingabedatei vorliegt.</p>
<div class="footnote-definition" id="fn1"><sup class="footnote-definition-label">1</sup>
<p>Alle Werte mit gleicher Häufigkeit werden immer in lexikographisch
aufsteigender Reihenfolge sortiert. Dies erfolgt unabhängig vom
Parameter <code>--reverse</code>.</p>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../guide/cmds/count.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../guide/cmds/invalid.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../guide/cmds/count.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../guide/cmds/invalid.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
