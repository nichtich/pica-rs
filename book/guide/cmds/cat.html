<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>cat - pica-rs</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../custom.css">

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../../index.html">Einführung</a></li><li class="chapter-item expanded affix "><li class="part-title">Benutzerhandbuch</li><li class="chapter-item expanded "><a href="../../guide/installation.html"><strong aria-hidden="true">1.</strong> Installation</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> Kommandos</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../guide/cmds/cat.html" class="active"><strong aria-hidden="true">2.1.</strong> cat</a></li><li class="chapter-item expanded "><a href="../../guide/cmds/completions.html"><strong aria-hidden="true">2.2.</strong> completions</a></li><li class="chapter-item expanded "><a href="../../guide/cmds/count.html"><strong aria-hidden="true">2.3.</strong> count</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.4.</strong> filter</div></li><li class="chapter-item expanded "><a href="../../guide/cmds/frequency.html"><strong aria-hidden="true">2.5.</strong> frequency</a></li><li class="chapter-item expanded "><a href="../../guide/cmds/invalid.html"><strong aria-hidden="true">2.6.</strong> invalid</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.7.</strong> partition</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.8.</strong> print</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.9.</strong> sample</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.10.</strong> select</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.11.</strong> slice</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.12.</strong> split</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.13.</strong> json</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.14.</strong> xml</div></li></ol></li><li class="chapter-item expanded "><li class="part-title">Tutorials</li><li class="chapter-item expanded "><a href="../../tutorials/beginner-tutorial.html"><strong aria-hidden="true">3.</strong> Beginner Tutorial</a></li><li class="chapter-item expanded "><a href="../../tutorials/rmarkdown/rmarkdown.html"><strong aria-hidden="true">4.</strong> Verwendung in RMarkdown</a></li><li class="chapter-item expanded affix "><li class="part-title">Entwicklerdokumentation</li><li class="chapter-item expanded "><a href="../../referenz/index.html"><strong aria-hidden="true">5.</strong> Referenz</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../referenz/matcher.html"><strong aria-hidden="true">5.1.</strong> Matcher</a></li><li class="chapter-item expanded "><a href="../../referenz/occurrence.html"><strong aria-hidden="true">5.2.</strong> Occurrence</a></li><li class="chapter-item expanded "><a href="../../referenz/subfield.html"><strong aria-hidden="true">5.3.</strong> Subfield</a></li><li class="chapter-item expanded "><a href="../../referenz/tag.html"><strong aria-hidden="true">5.4.</strong> Tag</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">pica-rs</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="cat"><a class="header" href="#cat">cat</a></h1>
<p>Das <code>cat</code> Kommando liest Datensätze direkt von der Standardeingabe (<code>stdin</code>) oder aus Dateien ein
und fügt diese zu einem Stream zusammen, der entweder in eine Datei oder in die Standardausgabe
(<code>stdout</code>) geschrieben wird.</p>
<h2 id="beschreibung"><a class="header" href="#beschreibung">Beschreibung</a></h2>
<p>Der wichtigste Anwendungsfall des Kommandos cat besteht in der Kombination mit den Kommandos
<a href="partition.html"><em>partition</em></a> oder <a href="split.html"><em>split</em></a>, da mittels <code>cat</code> das Ergebnis von <a href="partition.html"><em>partition</em></a> oder <a href="split.html"><em>split</em></a>
(teil-)rückgängig gemacht werden kann. Häufig macht es Sinn, eine große Datei in viele kleinere
Datein anhand eines Kriteriums zu teilen. Sollen die Datensätze wieder zu einer Datei zusammengefügt
werden, kann das <code>cat</code>-Kommando genutzt werden.</p>
<img src="cat1.png" class="center" />
<p>Das folgende Beispiel fügt die zwei Partitionen <code>ger.dat</code> und <code>eng.dat</code> zu einer Datei zusammen.</p>
<pre><code class="language-bash">$ pica cat ger.dat eng.dat -o ger_eng.dat
</code></pre>
<h3 id="Überspringen-ungültiger-datensätze"><a class="header" href="#Überspringen-ungültiger-datensätze">Überspringen ungültiger Datensätze</a></h3>
<p>Der obige Befehl geht davon aus, dass die zwei Partition ausschließlich gültige Datensätze
enthalten. Gültig in diesem Zusammenhang bedeutet, dass es sich um valide Datensätze im Format
PICA+ handelt und nicht ob ein Datensatz einem bestimmten Regelwerk entspricht.</p>
<p>Das Ausschließen von ungültigen Datensätzen wird mit der Option <code>--skip-invalid</code> oder <code>-s</code> erreicht:</p>
<pre><code class="language-bash">$ pica cat --skip-invalid DUMP.dat.gz -o dump_valid.dat
$ pica cat -s DUMP.dat.gz --output dump_valid.dat.gz
</code></pre>
<h3 id="komprimierte-ein--und-ausgabe"><a class="header" href="#komprimierte-ein--und-ausgabe">Komprimierte Ein- und Ausgabe</a></h3>
<p>Die beiden Befehlen veranschaulichen auch, dass das <code>cat</code>-Kommando sowohl unkompromierte als auch
komprimierte Dateien verarbeiten kann. Endet eine Datei mit dem Suffix <code>.gz</code> wird die Datei automatisch
dekompromiert (als Eingabedatei) bzw. komprimiert (als Ausgabedatei). Soll eine Komprimierung in der
Ausgabe unabhängig von der Dateiendung erfolgen, kann dies mit der Option <code>--gzip</code> erreicht werden:</p>
<pre><code class="language-bash">$ pica cat --gzip ger.dat eng.dat -o eng_ger_compressed.dat
$ pica cat ger.dat eng.dat -o eng_ger.dat.gz
</code></pre>
<h3 id="lesen-von-der-standardeingabe"><a class="header" href="#lesen-von-der-standardeingabe">Lesen von der Standardeingabe</a></h3>
<p>Das Kommando kann auch direkt von der Standardeingabe (<code>stdin</code>) lesen. Das ist bspw. dann hilfreich,
wenn die Ausgabe aus einem vorhergehenden Pipeline-Schritt mit dem Inhalt einer oder mehrerer Dateien
konkateniert werden soll. Das folgende Beispiel liest im ersten Pipeline-Schritt die Datei <code>eng.dat</code>
ein, entfernt ungültige Datensätze und gibt die Ausgabe nach <code>stdout</code> aus. Der zweite Pipeline-Schritt
liest diese Datensätze ein (<code>-</code>) und konkateniert diese mit den Datensätzen aus der Datei <code>ger.dat</code>.
Das Ergebnis wird in die Datei <code>eng_ger.dat</code> geschrieben.</p>
<pre><code class="language-bash">$ pica cat -s eng.dat | pica cat - ger.dat -o eng_ger.dat
</code></pre>
<p>Der Dateiname <code>-</code> steht für die Standardeingabe (<code>stdin</code>). Wären die zwei Argumente vertauscht
(<code>pica cat ger.dat -</code>), dann würden erst die Datensätze aus der Datei <code>ger.dat</code> und anschließend die
Datensätze aus dem ersten Pipeline-Schritt geschrieben.</p>
<h3 id="abzweigen-der-ausgabe"><a class="header" href="#abzweigen-der-ausgabe">Abzweigen der Ausgabe</a></h3>
<p>Manchmal kann es nützlich sein, die Ausgabe des <code>cat</code>-Kommandos in eine Datei zu schreiben und
gleichzeitig die Ausgabe an einen weiteren Pipeline-Schritt weiterzureichen. Dies hat den Vorteil,
dass zwei CPU-Kerne gleichzeitig genutzt werden können. Mit der <code>--tee</code>-Option lässt sich dieses
Verhalten erzielen. Der Name der Option leitet sich von dem T-Stück (engl. tee connector) ab, mit
dem ein Klemptner eine Abzeigung in eine Leitung einbaut. Das Verhalten der Option veranschaulicht
das folgende Bild:</p>
<img src="cat2.png" class="center" style="width: 75%" />
<p>Im folgenden Beispiel werden alle <code>Tp*.dat</code> zusammengefügt und in eine Datei <code>Tp.dat</code> geschrieben.
Gleichzeitig werden alle Datensätze mit dem <a href="filter.html"><em>filter</em></a>-Kommando danach gefiltert, ob die Satzart
(Feld <code>002@.0</code>) gleich dem Wert <code>Tp2</code><sup class="footnote-reference"><a href="#2">1</a></sup> ist. Das Ergebnis wird in eine zweite Datei <code>Tp2.dat</code>
geschrieben.</p>
<pre><code class="language-bash">$ pica cat partitions/Tp*.dat --tee gnd_person.dat | \
      pica filter &quot;002@.0 =^ 'Tp2'&quot; -o gnd_person_level2.dat
</code></pre>
<h3 id="hinzufügen-von-datensätzen"><a class="header" href="#hinzufügen-von-datensätzen">Hinzufügen von Datensätzen</a></h3>
<p>Wenn eine Ausgabedatei bereits existiert, wird diese standardmäßig neu angelegt und überschrieben.
Soll das Verhalten dahingehend geändert werden, dass an die bestehenden Dateien angehangen wird,
kann dies mit der <code>--append</code>-Option erreicht werden. Diese Option ändert das Verhalten von <code>--output</code>
und <code>--tee</code>. Die Option hat auf das Verhalten beim Schreiben in die Standardausgabe keine Auswirkung.</p>
<p>Im folgenden Beispiel erzeugt der erste Befehl eine neue Datei <code>gnd.dat</code>. Sollte die Datei bereits
existieren, wird der Datei-Inhalt überschrieben. Die folgenden Kommandos hängen jeweils an das Ende
der Datei <code>gnd.dat</code> an.</p>
<pre><code class="language-bash">$ pica cat Tp*.dat -o gnd.dat
$ pica cat --append Ts*.dat -o gnd.dat
$ pica cat --append Tu*.dat -o gnd.dat
...
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../guide/installation.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../guide/cmds/completions.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../guide/installation.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../guide/cmds/completions.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
